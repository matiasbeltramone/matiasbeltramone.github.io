---
layout: post
title: "üß± Programando con Objetos: Comportamiento"
tags: [Paradigmas, POO, OOP, Orientaci√≥n a Objetos, Object Oriented]
---

Adem√°s de **estados**, un objeto tambi√©n tiene **comportamiento**, que sus clientes, es decir, quienes usan los objetos, pueden utilizar. Estos comportamientos de nuestro objeto son
definidos mediante **m√©todos** dentro de la clase. Los m√©todos **p√∫blicos** son los √∫nicos **accesibles** para los **clientes** de nuestro objeto. Ellos pueden ser llamados
en cualquier momento luego de que el objeto fue creado.
Algunos m√©todos devuelven algo a quien los llama. En ese caso un `return type` debe ser declarado (en caso de utilizar lenguajes tipados). Otros m√©todos nos retornaran nada. En ese caso el tipo de retorno ser√° el tipo especial `void` (de nuevo en caso de utilizar lenguajes tipados).

- üìã **Comportamientos de un objeto declarados como p√∫blicos**

```typescript
class Payment
{
  public someMethod(): number
  {
    return /* ... */;
  }
  
  public someOtherMethod(): void
  {
    // ...
  }
}

const object1 = new Payment();

const value = object1.someMethod(); // someMethod() retorna o devuelve un n√∫mero que almacenaremos en la variable value.
object1.someOtherMethod(); // someOtherMethod() no retorna nada en espec√≠fico, entonces el cliente en este caso no necesita almacenar nada.
```

Una clase puede contener definiciones de **m√©todos privados**. Esto funciona de la misma manera que las **propiedades privadas**. **Cualquier** instancia de una clase
puede llamar a los m√©todos privados de cualquier otra instancia del mismo tipo de clase, inclu√≠da ella misma. Sin embargo, por lo general, los m√©todos privados
se utilizan para representar pasos m√°s peque√±os en un proceso m√°s grande.

- üìã **M√©todos privados**

```typescript
class Payment
{
  public someMethod(): number
  {
    const value = this.stepOne();
    return this.stepTwo(value);
  }
  
  private stepOne(): number
  {
    // ...
    
    return value;
  }
  
  private stepTwo(value: number): number
  {
    // ...
    
    return finalValue;
  }
}

const somePayment = new Payment();
const someValue = somePayment.someMethod(); // Funciona ya que es un m√©todo p√∫blico.
const tryToUseInternalMethod = somePayment.stepTwo(10); // No funcionar√° ya que los clientes no tienen acceso a los m√©todos privados, al igual que las propiedades privadas.
```

As√≠ como podemos definir **parametros** para nuestro **constructor**, tambi√©n podemos definir **par√°metros** para nuestros **m√©todos**.
Luego quien lo llame deber√° proporcionar un valor espec√≠fico como argumento al llamar al m√©todo en cuesti√≥n.
El m√©todo puede utilizar ese valor para determinar que hacer con √©l, puede pasarlo a un colaborador, colaborar con otra propiedad para hacer algo, √≥ puede utilizarlo para cambiar el valor de una propiedad.

- üìã **Diferentes maneras donde los argumentos de los m√©todos pueden ser usados**

```typescript
class Payment
{
  private someNumber: number;
  
  public setNumber(newNumber: number): void // Aqu√≠, newNumber ser√° el nuevo valor asignado a la propiedad someNumber.
  {
    this.someNumber = newNumber;
  }
  
  public multiply(other: number): number // En este caso, other ser√° multiplicado por el valor actual de la propiedad someNumber.
  {
    return this.someNumber * other;
  }
  
  private someOtherMethod(Gateway gateway): void // Aqu√≠, otro objeto del tipo Gateway es pasado como argumento del m√©todo, entonces Payment puede realizar llamadas sobre sus m√©todos p√∫blicos.
  {
    gateway.doSomething();
  }
}
```

---

### üí° Check for null arguments

> Algunos lenguajes permiten que un cliente pase un valor `null` como argumento incluso si el tipo de un par√°metro se ha declarado expl√≠citamente. Entonces, en el ejemplo del c√≥digo anterior, el argumento proporcionado para `Gateway` puede ser nulo, aunque se escriba como `Gateway`. Por lo tanto intentar llamar a `doSomething()` en el objeto `Gateway` siendo nulo, provocar√≠a que se lanzara un `NullPointerException`.

> Esta es la raz√≥n por la que siempre debe verificar si hay valores nulos o, preferiblemente, dejar que un compilador o un analizador est√°tico nos advierta sobre posibles `NullPointerExceptions` en nuestro c√≥digo. El lenguaje de programaci√≥n que estamos utilizando por defecto no permite pasar `null` como argumento si tipamos que debe llegar X tipo como argumento.

En los ejemplos en los que queremos permitirlo, tenemos que declararlo expl√≠citamente usando un union type en el tipo del par√°metro que tiene el m√©todo. Esto tambi√©n funciona para tipos de propiedad, y tipos de devoluci√≥n, debemos usar `Gateway | null` por ejemplo:

```typescript
class Payment
{
  private gateway: Gateway | null;
  
  private someOtherMethod(gateway: Gateway | null): Gateway | null
  {
    // ...
  }
}
```

---

En el caso particular de JavaScript y TypeScript tenemos un caso particular adem√°s del `null` que es el caso de `undefined`, lo veremos a continuaci√≥n.

### üí° Check for undefined arguments

> Esto solo aplica para JavaScript y TypeScript

> Podemos hacer uso del simbolo '?' en el caso de argumentos de m√©todo o en la declaraci√≥n de propiedades como s√≠mbolo de que es opcional esa variable, argumento de entrada, es decir, que puede contener un valor de cierto tipo o undefined.

> Aclarar que esto en Typescript representa Opcional, es decir, ALGO √≥ UNDEFINED. No le podremos pasar un valor en `null` al utilizar la notaci√≥n con '?'.

Forma 1:

```typescript
class Payment
{
  private gateway: Gateway | undefined;
  
  private someOtherMethod(gateway: Gateway | undefined): Gateway | undefined
  {
    // ...
  }
}
```

Forma 2:
```typescript
class Payment
{
  private gateway?: Gateway;
  
  private someOtherMethod(gateway?: Gateway): Gateway | undefined
  {
    // ...
  }
}
```

Particularmente que tenga que combinar ambas formas ('?' y _union type_) no me agrada demasiado pero es lo que hay actualmente, podr√≠an crearse tipos propios para sintetizar estas opciones pero en todo caso lo veremos en otra lecci√≥n si es necesario.

<p align="center"><img width="50%" src="https://user-images.githubusercontent.com/22304957/211164605-ed461c29-b3c2-4eef-acf3-ad8cd9bdbbdc.png"/></p>
